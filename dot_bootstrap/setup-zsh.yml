---
- name: ZSH setup
  hosts: ubuntuNode1
  gather_facts: false
  become: true
  tasks:
    - name: Install Oh My Zsh
      ansible.builtin.git:
        repo: https://github.com/ohmyzsh/ohmyzsh.git
        dest: ~/.oh-my-zsh
        depth: 1


    - name: Install Powerline10k theme
      ansible.builtin.git:
        repo: https://github.com/romkatv/powerlevel10k.git
        dest: ~/.oh-my-zsh/custom/themes/powerlevel10k
        depth: 1

    - name: change default shell
      ansible.builtin.user:
        name: "ubuntu"
        shell: /usr/bin/zsh
      become: true    

